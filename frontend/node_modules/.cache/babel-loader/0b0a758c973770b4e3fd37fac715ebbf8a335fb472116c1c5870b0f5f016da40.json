{"ast":null,"code":"const baseURL = process.env.REACT_APP_SERVER_URL;\nexport const fetchCharacters = async () => {\n  try {\n    const [characterResponse, favoritesResponse] = await Promise.all([fetch(apiURL, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }), fetch(`${baseURL}/favorites`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    })]);\n    const dataCharacters = await characterResponse.json();\n    const dataFavorites = await favoritesResponse.json();\n    if (dataCharacters.source === \"cache\") {\n      setErrorMessage(\"Live data unavailable. Showing cached results.\");\n    }\n  } catch (error) {\n    console.log(\"There has been an error\", error);\n    setErrorMessage(\"Something went wrong while loading characters. Please try again.\");\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["baseURL","process","env","REACT_APP_SERVER_URL","fetchCharacters","characterResponse","favoritesResponse","Promise","all","fetch","apiURL","headers","Authorization","token","dataCharacters","json","dataFavorites","source","setErrorMessage","error","console","log","setLoading"],"sources":["/Users/lisasapi/Desktop/rick-and-morty/frontend/src/utils/api.js"],"sourcesContent":["const baseURL = process.env.REACT_APP_SERVER_URL;\n\nexport const fetchCharacters = async () => {\n  try {\n    const [characterResponse, favoritesResponse] = await Promise.all([\n      fetch(apiURL, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }),\n      fetch(`${baseURL}/favorites`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }),\n    ]);\n    const dataCharacters = await characterResponse.json();\n    const dataFavorites = await favoritesResponse.json();\n\n    if (dataCharacters.source === \"cache\") {\n      setErrorMessage(\"Live data unavailable. Showing cached results.\");\n    }\n  } catch (error) {\n    console.log(\"There has been an error\", error);\n    setErrorMessage(\n      \"Something went wrong while loading characters. Please try again.\"\n    );\n    setLoading(false);\n  }\n};\n"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAEhD,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF,MAAM,CAACC,iBAAiB,EAAEC,iBAAiB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC/DC,KAAK,CAACC,MAAM,EAAE;MACZC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,KAAK;MAChC;IACF,CAAC,CAAC,EACFJ,KAAK,CAAC,GAAGT,OAAO,YAAY,EAAE;MAC5BW,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,KAAK;MAChC;IACF,CAAC,CAAC,CACH,CAAC;IACF,MAAMC,cAAc,GAAG,MAAMT,iBAAiB,CAACU,IAAI,CAAC,CAAC;IACrD,MAAMC,aAAa,GAAG,MAAMV,iBAAiB,CAACS,IAAI,CAAC,CAAC;IAEpD,IAAID,cAAc,CAACG,MAAM,KAAK,OAAO,EAAE;MACrCC,eAAe,CAAC,gDAAgD,CAAC;IACnE;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,KAAK,CAAC;IAC7CD,eAAe,CACb,kEACF,CAAC;IACDI,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}