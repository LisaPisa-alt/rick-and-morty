{"ast":null,"code":"export const fetchCharacters = async () => {\n  setLoading(true);\n  try {\n    const [characterResponse, favoritesResponse] = await Promise.all([fetch(apiURL, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }), fetch(`${process.env.REACT_APP_SERVER_URL}/favorites`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    })]);\n    const dataCharacters = await characterResponse.json();\n    const dataFavorites = await favoritesResponse.json();\n    if (dataCharacters.source === \"cache\") {\n      setErrorMessage(\"Live data unavailable. Showing cached results.\");\n    }\n    setCharacters(dataCharacters.characters);\n    setTotalPages(dataCharacters.info.pages);\n    setFavorites(dataFavorites.favorites);\n    setLoading(false);\n  } catch (error) {\n    console.log(\"There has been an error\", error);\n    setErrorMessage(\"Something went wrong while loading characters. Please try again.\");\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["fetchCharacters","setLoading","characterResponse","favoritesResponse","Promise","all","fetch","apiURL","headers","Authorization","token","process","env","REACT_APP_SERVER_URL","dataCharacters","json","dataFavorites","source","setErrorMessage","setCharacters","characters","setTotalPages","info","pages","setFavorites","favorites","error","console","log"],"sources":["/Users/lisasapi/Desktop/rick-and-morty/frontend/src/utils/api.js"],"sourcesContent":["export const fetchCharacters = async () => {\n  setLoading(true);\n  try {\n    const [characterResponse, favoritesResponse] = await Promise.all([\n      fetch(apiURL, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }),\n      fetch(`${process.env.REACT_APP_SERVER_URL}/favorites`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }),\n    ]);\n    const dataCharacters = await characterResponse.json();\n    const dataFavorites = await favoritesResponse.json();\n\n    if (dataCharacters.source === \"cache\") {\n      setErrorMessage(\"Live data unavailable. Showing cached results.\");\n    }\n\n    setCharacters(dataCharacters.characters);\n    setTotalPages(dataCharacters.info.pages);\n    setFavorites(dataFavorites.favorites);\n    setLoading(false);\n  } catch (error) {\n    console.log(\"There has been an error\", error);\n    setErrorMessage(\n      \"Something went wrong while loading characters. Please try again.\"\n    );\n    setLoading(false);\n  }\n};\n"],"mappings":"AAAA,OAAO,MAAMA,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzCC,UAAU,CAAC,IAAI,CAAC;EAChB,IAAI;IACF,MAAM,CAACC,iBAAiB,EAAEC,iBAAiB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC/DC,KAAK,CAACC,MAAM,EAAE;MACZC,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,KAAK;MAChC;IACF,CAAC,CAAC,EACFJ,KAAK,CAAC,GAAGK,OAAO,CAACC,GAAG,CAACC,oBAAoB,YAAY,EAAE;MACrDL,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUC,KAAK;MAChC;IACF,CAAC,CAAC,CACH,CAAC;IACF,MAAMI,cAAc,GAAG,MAAMZ,iBAAiB,CAACa,IAAI,CAAC,CAAC;IACrD,MAAMC,aAAa,GAAG,MAAMb,iBAAiB,CAACY,IAAI,CAAC,CAAC;IAEpD,IAAID,cAAc,CAACG,MAAM,KAAK,OAAO,EAAE;MACrCC,eAAe,CAAC,gDAAgD,CAAC;IACnE;IAEAC,aAAa,CAACL,cAAc,CAACM,UAAU,CAAC;IACxCC,aAAa,CAACP,cAAc,CAACQ,IAAI,CAACC,KAAK,CAAC;IACxCC,YAAY,CAACR,aAAa,CAACS,SAAS,CAAC;IACrCxB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,CAAC,OAAOyB,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,KAAK,CAAC;IAC7CR,eAAe,CACb,kEACF,CAAC;IACDjB,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}