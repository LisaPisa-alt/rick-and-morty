{"ast":null,"code":"import { getToken } from \"./userSession\";\nconst baseURL = process.env.REACT_APP_SERVER_URL;\nexport const fetchCharacters = async () => {\n  const token = getToken();\n  const characterResponse = await fetch(baseURL, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const dataCharacters = await characterResponse.json();\n  if (dataCharacters.source === \"cache\") {\n    throw new Error(\"Live data unavailable. Showing cached results.\");\n  }\n};\nexport const fetchFavorites = async () => {\n  const token = getToken();\n  const favoritesResponse = await fetch(`${baseURL}/favorites`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const dataFavorites = await favoritesResponse.json();\n  if (dataFavorites.source === \"cache\") {\n    setErrorMessage(\"Live data unavailable. Showing cached results.\");\n  }\n};","map":{"version":3,"names":["getToken","baseURL","process","env","REACT_APP_SERVER_URL","fetchCharacters","token","characterResponse","fetch","headers","Authorization","dataCharacters","json","source","Error","fetchFavorites","favoritesResponse","dataFavorites","setErrorMessage"],"sources":["/Users/lisasapi/Desktop/rick-and-morty/frontend/src/utils/api.js"],"sourcesContent":["import { getToken } from \"./userSession\";\n\nconst baseURL = process.env.REACT_APP_SERVER_URL;\n\nexport const fetchCharacters = async () => {\n  const token = getToken();\n  const characterResponse = await fetch(baseURL, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  const dataCharacters = await characterResponse.json();\n\n  if (dataCharacters.source === \"cache\") {\n    throw new Error(\"Live data unavailable. Showing cached results.\");\n  }\n};\n\nexport const fetchFavorites = async () => {\n  const token = getToken();\n  const favoritesResponse = await fetch(`${baseURL}/favorites`, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n\n  const dataFavorites = await favoritesResponse.json();\n\n  if (dataFavorites.source === \"cache\") {\n    setErrorMessage(\"Live data unavailable. Showing cached results.\");\n  }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,eAAe;AAExC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB;AAEhD,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMC,KAAK,GAAGN,QAAQ,CAAC,CAAC;EACxB,MAAMO,iBAAiB,GAAG,MAAMC,KAAK,CAACP,OAAO,EAAE;IAC7CQ,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUJ,KAAK;IAChC;EACF,CAAC,CAAC;EAEF,MAAMK,cAAc,GAAG,MAAMJ,iBAAiB,CAACK,IAAI,CAAC,CAAC;EAErD,IAAID,cAAc,CAACE,MAAM,KAAK,OAAO,EAAE;IACrC,MAAM,IAAIC,KAAK,CAAC,gDAAgD,CAAC;EACnE;AACF,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMT,KAAK,GAAGN,QAAQ,CAAC,CAAC;EACxB,MAAMgB,iBAAiB,GAAG,MAAMR,KAAK,CAAC,GAAGP,OAAO,YAAY,EAAE;IAC5DQ,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUJ,KAAK;IAChC;EACF,CAAC,CAAC;EAEF,MAAMW,aAAa,GAAG,MAAMD,iBAAiB,CAACJ,IAAI,CAAC,CAAC;EAEpD,IAAIK,aAAa,CAACJ,MAAM,KAAK,OAAO,EAAE;IACpCK,eAAe,CAAC,gDAAgD,CAAC;EACnE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}